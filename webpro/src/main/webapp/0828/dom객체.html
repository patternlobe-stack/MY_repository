<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel ="stylesheet" href="../css/public.css">
 
 <script>
 const proc1 = () =>{
	 
	vua =   document.getElementById('ua');
	list = vua.getElementsByTagName('li');  //HTMLCollection
	//console.log(list);
	//list를 배열로 변경해야 forEach사용
	//----------------------------------------------
	vchnode = vua.childNodes;
	//console.log(vchnode);//NodeList. 요소가 아닌 줄바꿈도 포함
	//실제요소 li인지 비교작업이 필요
	
	//--------------------------------
	vch = vua.children ;
	console.log(vch); //HTMLCollection , 실제 요소(li)만 포함 - forEach사용불가
	
	//HTMLCollection을 배열로 변환하면 forEach 사용가능
	alist = Array.from(vch);
	
	let str = "";
	alist.forEach(item=>{  //실제요소 li만 대상으로 반복 
		str += item.firstChild.data + "<br>"
	})
	
	document.querySelector('#result1').innerHTML = str;
	//--------------------------------------
	
	let list =  document.querySelectorAll('#ua li'); //NodeList
	
	str = "";
	list.forEach(item=>{  //실제요소 li만 대상으로 반복 
		str += item.firstChild.data + "<br>"
	})
	
	document.querySelector('#result1').innerHTML = str;
 }
 
 
 const proc2 = () =>{
	 
	let list =  document.querySelectorAll('#ub li');
	
	list.forEach(item=>{
		let vdata =  item.firstChild.data.trim();
		
		console.log(vdata)
		//vdata이름을 이용하여 새로운 img를 생성햐여 list에 붙여넣ㄱ기
		let vimg = document.createElement('img');
		vimg.src="../images/" + vdata;
		vimg.alt=vdata;
		
		item.appendChild(vimg);
	})
 }
 
 
 const proc3 =(target) =>{
	 
	let vdata=  target.firstChild.data
	//vdata이름을 이용하여 새로운 img를 생성햐여 list(target)에 붙여넣ㄱ기
	let vimg = document.createElement('img');
	vimg.src="../images/" + vdata;
	vimg.alt=vdata;
	
	target.appendChild(vimg);
	
 }
 
document.addEventListener("DOMContentLoaded", function(){
	res4 = document.querySelector('#result4');
	res5 = document.querySelector('#result5');
}) 

 arr = ["사랑은 늘 도망가", "별빛갗은 나의 사랑아", "천국보다 아름다운",
   	  "우리들의 블루스", "런던보이" ,"섬총각 영웅이" , "다시 만날 수 있을까",
   	  "폴라로이드"]
	 
 
	 
 
 const proc4 = () =>{
	 
	 rand = parseInt(Math.random() * arr.length);  //arr[rand]
	 
	 //textNode생성
	 vtext = document.createTextNode(arr[rand]);
	 
	 //p태그 생성 
	 ptag = document.createElement('p');
	 
	 ///p태그에 text를 추가 
	 ptag.appendChild(vtext);
	 
	 //result4에 p태그를 추가 
	 res4.appendChild(ptag);
 
     
 }
 
 const delproc = () =>{
	 child =  res4.firstChild;
	 
	 
	res4.removeChild(child)
 }
 
 
 
 const proc5 = () => {
	 console.log("555--", this);
	 
	 rand = parseInt(Math.random() * arr.length);  //arr[rand]
	 
	//textNode생성
	 vtext = document.createTextNode(arr[rand]);
	 
	 //input type=button생성 
	 vbtn = document.createElement('input');
	 vbtn.type ="button";
	 vbtn.value="삭제";
	 vbtn.onclick=function(){
		//vbtn의 이벤트 핸들러 작성 
		//클릭한 삭제버튼을 this로 받는다 - this를 기준으로 부모를 검색 (p태그)
		//this는 현재 onclick이벤트 를 실행한는객체 
		this.parentElement.remove();
	 } 
		
	/*  vbtn.onclick=() => {
			//vbtn의 이벤트 핸들러 작성 
			// =>함수 일때의 this는 상위 함수의 this를 받는다
			console.log("click----", this);
			//this가 필요할때는  => 함수로 기술하지 않고 function()으로 기술해야 한다 
			this.parentElement.remove();
	 }
	  */
	 
	 //p태그 생성 
	 ptag = document.createElement('p');
	 
	 ///p태그에 text를 추가 
	 ptag.appendChild(vtext);
	 
	 //p테그에 button을 추가 
	  ptag.appendChild(vbtn);
	 
	 //result5에 p태그를 추가 
	 res5.appendChild(ptag);
	 
	 
	 
	 
 }
 </script>
  
 <style>
 img{
   width : 80px;
   height : 80px;
   border-radius: 50%;
 }
 </style>
</head>
<body>
 
<div class="box">
      <h3>
      확인버튼 클릭시 li의 자식문자열을 가져와서 result에 출력
      </h3>
      
      <ul id="ua">
        <li>List item 1</li>
        <li>List item 2</li>
        <li>List item 3</li>
        <li>List item 4</li>
        <li>List item 5</li>
      </ul>
      
      <input type="button" value="확인" onclick="proc1()" />
      <br /><br />

      <div id="result1"></div>
</div>
    
    
<div class="box">
      <h3>
      확인버튼 클릭시 li의 자식문자열을 가져와서 result에 출력
      </h3>
      
      <ul id="ub">
        <li>Tulips.jpg </li>
        <li>딸기스무디.jpg</li>
        <li>카페라떼.jpg</li>
        <li>아메리카노.jpg</li>
        <li>뱅쇼.jpg</li>
      </ul>
      
      <input type="button" value="확인" onclick="proc2()" />
      <br /><br />

      <div id="result2"></div>
</div>
    

<div class="box">
      <h3>
     li를  클릭시  클릭한 li의 자식문자열을 가져와서 img를 생성 출력
      </h3>
      
      <ul id="uc">
        <li onclick="proc3(this)">Tulips.jpg </li>
        <li onclick="proc3(this)">딸기스무디.jpg</li>
        <li onclick="proc3(this)">카페라떼.jpg</li>
        <li onclick="proc3(this)">아메리카노.jpg</li>
        <li onclick="proc3(this)">뱅쇼.jpg</li>
      </ul>
       <br /><br />
      <div id="result3"></div>
</div>
    
   
<div class="box">
      <h3>
     랜덤으로 문자열 발생 - textNode생성<br>
     p태그생성 - <br>
     textNode를 p대그에 추가<br>
     p태그를 result4에 추가<br>
     
      </h3>
      
       <input type="button" value="추가" onclick="proc4()" />
        <input type="button" value="삭제" onclick="delproc()" />
       <br /><br />
      <div id="result4"></div>
</div> 
 
 
 <div class="box">
      <h3>
     랜덤으로 문자열 발생 - textNode생성<br>
     삭제버튼 생성<br>
     
     p태그생성 - <br>
     textNode를 p대그에 추가<br>
     삭제버튼을 p태그에 추가 
     
     p태그를 result5에 추가<br>
     
      </h3>
      
       <input type="button" value="추가" onclick="proc5()" />
       
       <br /><br />
      <div id="result5"></div>
</div> 


   

</body>
</html>