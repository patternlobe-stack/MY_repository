<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="../css/public.css" />

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        ///---4번째 박스의 로또번호 발생 시키는 이밴트 ----------------
        //id=btn인 요소를 검색
        vbtn = document.querySelector("#btn");
        vbtn = document.getElementById("btn");

        //버튼에 대한 이벤트 핸들러
        //vbtn.onclick = function(){ }
        vbtn.addEventListener("click", function () {
          //배열선언
          const arrLotto = [];

          while (true) {
            //랜덤발생 1~ 45
            rand = Math.floor(Math.random() * 45 + 1);

            //배열요소와 비교- 없으면 배열에 저장
            if (!arrLotto.includes(rand)) arrLotto.push(rand);

            //배열갯수가 6이면 break
            if (arrLotto.length >= 6) break;
          }

          //배열을 출력- result4
          document.querySelector("#result4").innerHTML = arrLotto;
        });

        //-3번째 박스에서 radio처리 ------------------------------------------------
        //radio검색
        radios = document.querySelectorAll(".radio"); //NodeList를 리턴 , 유사배열
        console.log(radios);

        radios.forEach((element) => {
          //각 radio에 이밴트 핸들러 설정
          //element.onclick = proc3;
          //element.onchange = function(){}
          //element.addEventListener('click', function(){  this })
          element.addEventListener("change", proc3);
        });
      });

      function proc3() {
        //this참조 변수가 자동으로 실행 된다

        //this는 선택한 radio객체 - value(가위, 바위 , 보)를 가져온다
        rvalue = this.value;
        console.log(rvalue);

        arr = ["가위", "바위", "보"]; //arr[0]  arr[1]  arr[2]

        let rand = Math.floor(Math.random() * arr.length);

        let com = arr[rand];
        let user = rvalue;

        if (com == user) {
          res = "비겼습니다";
        } else if (
          (com == "가위" && user == "보") ||
          (com == "바위" && user == "가위") ||
          (com == "보" && user == "바위")
        ) {
          res = "com 이 이겼습니다";
        } else {
          res = "user가 이겼습니다";
        }

        //출력 내용
        let str = `com  : ${com} <br>
                    user : ${user} <br>
                    결과  : ${res} `;

        //출력
        document.querySelector("#result3").innerHTML = str;
      }
      rand = Math.random() * 100 + 1;
      //console.log(rand);

      prand = parseInt(rand);
      //console.log(prand);

      crand = Math.ceil(rand);
      //console.log(crand);

      frand = Math.floor(rand);
      // console.log(frand);

      rrand = Math.round(rand);
      // console.log(rrand);

      let hap = "";
      let count = 0;

      const proc1 = () => {
        //입력한 값 가져오기
        let vnum = parseInt(document.querySelector("#num").value);
        hap += vnum + " ";
        count++;

        //값 비교
        if (vnum == prand) {
          hint = "정답입니다<br>";
          hint += `입력값들 : ${hap} <br>`;
          hint += `입력횟수 : ${count}<br>`;
        } else if (vnum < prand) {
          hint = "더 큰 수로 입력히세여";
        } else {
          hint = "더 작은 수로 입력하세요";
        }

        //출력
        document.querySelector("#result1").innerHTML = hint;
      };

      const proc2 = () => {
        arr = ["가위", "바위", "보"]; //arr[0]  arr[1]  arr[2]

        let rand = Math.floor(Math.random() * arr.length);

        let com = arr[rand];

        let user = prompt("가위바위보입력").trim();

        if (com == user) {
          res = "비겼습니다";
        } else if (
          (com == "가위" && user == "보") ||
          (com == "바위" && user == "가위") ||
          (com == "보" && user == "바위")
        ) {
          res = "com 이 이겼습니다";
        } else {
          res = "user가 이겼습니다";
        }

        //출력 내용
        let str = `com  : ${com} <br>
                    user : ${user} <br>
                    결과  : ${res} `;

        //출력
        document.querySelector("#result2").innerHTML = str;

        //if(!(user === "가위") || !(user === "바위") || !(user === "보"))
      };
    </script>
  </head>
  <body>
    <div class="box">
      <h3>
        1~100사이의 난수를 발생<br />
        숫자를 입력해서 발생된 난수를 맞추는 프로그램 작성<br />
        힌트 : 더 작게(크게) 입력하세요
      </h3>
      <input type="text" id="num" />
      <input type="button" value="확인" onclick="proc1()" />
      <br /><br />

      <div id="result1"></div>
    </div>

    <div class="box">
      <h3>
        가위 바위 보 게임을 할 수 있는 프로그램을 작성하시오.<br />
        (컴퓨터는 랜덤, 사용자는 prompt로 입력 받아서 처리)
      </h3>
      <input type="button" value="확인" onclick="proc2()" />
      <br /><br />

      <div id="result2"></div>
    </div>

    <div class="box">
      <h3>
        가위 바위 보 게임을 할 수 있는 프로그램을 작성하시오.<br />
        (컴퓨터는 랜덤, 사용자는 radio버튼으로 선택하여 처리)
      </h3>
      <h3>선택하세요</h3>
      <input type="radio" value="가위" class="radio" name="rd" />가위
      <input type="radio" value="바위" class="radio" name="rd" />바위
      <input type="radio" value="보" class="radio" name="rd" />보 <br /><br />

      <div id="result3"></div>
    </div>

    <div class="box">
      <h3>
        로또 번호를 생성하는 프로그램을 작성하시오.<br />
        (1번 ~ 45번 중 6개의 번호를 추첨)
      </h3>
      <input type="button" value="확인" id="btn" />
      <br /><br />

      <div id="result4"></div>
    </div>
  </body>
</html>
